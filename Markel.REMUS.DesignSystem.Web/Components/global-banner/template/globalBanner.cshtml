@using System.Collections.Generic
@{
var actionLinks = (dynamic)ViewBag.ActionLinks.Value;
}
<header class="global-banner">
    <a class="logo" href='@ViewBag.LogoClickThrough'>
        <img src='@ViewBag.ContentPath/Images/markel-logo-white.svg' alt="Markel" class="white-logo" />
        <!-- Black logo Image is used for print style, as there is no other way to print white image as black, and filter:invert(100%) doesn't work in IE-->
        <img src='@ViewBag.ContentPath/Images/markel-logo-black.svg' alt="Markel" class="black-logo" />
    </a>
    <div class="primary-navigation-and-utility-navigation">
        <div class="primary-navigation-and-utility-navigation-trigger-container">
            <a href="">
                <span class="text-when-closed">Menu</span>
                <span class="text-when-open">Close</span>
                <i class="special-menu-icon"></i>
            </a>
        </div>

        <div class="primary-navigation-and-utility-navigation-content">
            @if (!ViewBag.PublicPage)
            {
            <nav class="primary-navigation">
                <ul>
                    @foreach (dynamic navItem in ViewBag.NavigationLinks)
                    {
                        <li class='@navItem.Selected @navItem.Name.Replace("&", "").Replace(" ", "_")'>
                            <a href='@navItem.Url' class=''>
                                <span>@navItem.Name</span>
                            </a>
                        </li>
                    }
                </ul>
            </nav>

            }


            <nav class="utility-navigation">
                <ul>
                    @Html.Partial("LanguageSelectorListItem.cshtml")

                    @if (!ViewBag.PublicPage)
                    {
                        <li class="ds-menu account-menu">
                            <a class="ds-menu-trigger" href="">
                                <img src='@ViewBag.ContentPath/Images/icon-logged-in.svg' />
                                <span>@ViewBag.UserName</span>
                                <i class="icon-caret-down"></i>
                            </a>
                            <ul class="ds-menu-items">
                                <li class="ds-menu-item">
                                    <a href='@actionLinks.ChangePassword'>
                                        <span>@Text.Content.primary_navigation_change_password</span>
                                    </a>
                                </li>
                                <li class="ds-menu-item">
                                    <a href="@actionLinks.Logout">
                                        <span>Sign out</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    }

                </ul>
            </nav>
        </div>
    </div>
</header>
